---
import Layout from "../layouts/Layout.astro";
let properties = [];
try {
  const res = await fetch("https://www.jsondataai.com/api/TYnXwfJ");
  properties = await res.json();
} catch (error) {
  console.error("Error fetching data: ", error);
}
---

<Layout>
  <h1 class="text-2xl text-center py-4">Inmobiliaria</h1>
  <div class="flex items-center justify-center w-full">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 w-3/4 gap-4">
      {
        properties.map((property) => (
          <article
            key={property.id}
            class="w-auto h-72 border border-gray-500 px-8 py-12 rounded-md"
          >
            <div>
              <img
                src={property.imagen}
                alt={`Imagen de la casa de ${property.nombre}`}
              />
            </div>
            <div>
              <h1>{property.nombre}</h1>
              <h2>${property.precio}</h2>
            </div>
          </article>
        ))
      }
    </div>
  </div>
</Layout>
